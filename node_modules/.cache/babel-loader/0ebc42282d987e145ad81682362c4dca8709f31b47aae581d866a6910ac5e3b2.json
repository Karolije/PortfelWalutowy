{"ast":null,"code":"const ADD_POSITION = \"portfolio/addPosition\";\nconst REMOVE_POSITION = \"portfolio/removePosition\";\nconst LOAD_POSITIONS = \"portfolio/loadPositions\";\nconst LS_KEY = \"portfolioPositions\";\nconst loadFromLocalStorage = () => {\n  try {\n    const data = localStorage.getItem(LS_KEY);\n    if (data) return JSON.parse(data);\n  } catch (e) {\n    console.warn(\"Błąd ładowania localStorage\", e);\n  }\n  return [];\n};\nconst saveToLocalStorage = positions => {\n  try {\n    localStorage.setItem(LS_KEY, JSON.stringify(positions));\n  } catch (e) {\n    console.warn(\"Błąd zapisu localStorage\", e);\n  }\n};\nconst initialState = loadFromLocalStorage();\nexport const portfolioReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ADD_POSITION:\n      const newStateAdd = [...state, action.payload];\n      saveToLocalStorage(newStateAdd);\n      return newStateAdd;\n    case REMOVE_POSITION:\n      const newStateRemove = state.filter((pos, i) => i !== action.payload);\n      saveToLocalStorage(newStateRemove);\n      return newStateRemove;\n    case LOAD_POSITIONS:\n      return action.payload || [];\n    default:\n      return state;\n  }\n};\nexport const addPosition = position => ({\n  type: ADD_POSITION,\n  payload: position\n});\nexport const removePosition = index => ({\n  type: REMOVE_POSITION,\n  payload: index\n});\nexport const loadPositions = positions => ({\n  type: LOAD_POSITIONS,\n  payload: positions\n});","map":{"version":3,"names":["ADD_POSITION","REMOVE_POSITION","LOAD_POSITIONS","LS_KEY","loadFromLocalStorage","data","localStorage","getItem","JSON","parse","e","console","warn","saveToLocalStorage","positions","setItem","stringify","initialState","portfolioReducer","state","action","type","newStateAdd","payload","newStateRemove","filter","pos","i","addPosition","position","removePosition","index","loadPositions"],"sources":["/Users/karolinaj/Desktop/Szkolenie/task-react-redux-enhancement/src/store/portfolioReducer.js"],"sourcesContent":["const ADD_POSITION = \"portfolio/addPosition\";\nconst REMOVE_POSITION = \"portfolio/removePosition\";\nconst LOAD_POSITIONS = \"portfolio/loadPositions\";\n\nconst LS_KEY = \"portfolioPositions\";\n\nconst loadFromLocalStorage = () => {\n  try {\n    const data = localStorage.getItem(LS_KEY);\n    if (data) return JSON.parse(data);\n  } catch (e) {\n    console.warn(\"Błąd ładowania localStorage\", e);\n  }\n  return [];\n};\n\nconst saveToLocalStorage = (positions) => {\n  try {\n    localStorage.setItem(LS_KEY, JSON.stringify(positions));\n  } catch (e) {\n    console.warn(\"Błąd zapisu localStorage\", e);\n  }\n};\n\nconst initialState = loadFromLocalStorage();\n\nexport const portfolioReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ADD_POSITION:\n      const newStateAdd = [...state, action.payload];\n      saveToLocalStorage(newStateAdd);\n      return newStateAdd;\n\n    case REMOVE_POSITION:\n      const newStateRemove = state.filter((pos, i) => i !== action.payload);\n      saveToLocalStorage(newStateRemove);\n      return newStateRemove;\n\n    case LOAD_POSITIONS:\n      return action.payload || [];\n\n    default:\n      return state;\n  }\n};\n\nexport const addPosition = (position) => ({\n  type: ADD_POSITION,\n  payload: position,\n});\nexport const removePosition = (index) => ({\n  type: REMOVE_POSITION,\n  payload: index,\n});\nexport const loadPositions = (positions) => ({\n  type: LOAD_POSITIONS,\n  payload: positions,\n});\n"],"mappings":"AAAA,MAAMA,YAAY,GAAG,uBAAuB;AAC5C,MAAMC,eAAe,GAAG,0BAA0B;AAClD,MAAMC,cAAc,GAAG,yBAAyB;AAEhD,MAAMC,MAAM,GAAG,oBAAoB;AAEnC,MAAMC,oBAAoB,GAAGA,CAAA,KAAM;EACjC,IAAI;IACF,MAAMC,IAAI,GAAGC,YAAY,CAACC,OAAO,CAACJ,MAAM,CAAC;IACzC,IAAIE,IAAI,EAAE,OAAOG,IAAI,CAACC,KAAK,CAACJ,IAAI,CAAC;EACnC,CAAC,CAAC,OAAOK,CAAC,EAAE;IACVC,OAAO,CAACC,IAAI,CAAC,6BAA6B,EAAEF,CAAC,CAAC;EAChD;EACA,OAAO,EAAE;AACX,CAAC;AAED,MAAMG,kBAAkB,GAAIC,SAAS,IAAK;EACxC,IAAI;IACFR,YAAY,CAACS,OAAO,CAACZ,MAAM,EAAEK,IAAI,CAACQ,SAAS,CAACF,SAAS,CAAC,CAAC;EACzD,CAAC,CAAC,OAAOJ,CAAC,EAAE;IACVC,OAAO,CAACC,IAAI,CAAC,0BAA0B,EAAEF,CAAC,CAAC;EAC7C;AACF,CAAC;AAED,MAAMO,YAAY,GAAGb,oBAAoB,CAAC,CAAC;AAE3C,OAAO,MAAMc,gBAAgB,GAAGA,CAACC,KAAK,GAAGF,YAAY,EAAEG,MAAM,KAAK;EAChE,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAKrB,YAAY;MACf,MAAMsB,WAAW,GAAG,CAAC,GAAGH,KAAK,EAAEC,MAAM,CAACG,OAAO,CAAC;MAC9CV,kBAAkB,CAACS,WAAW,CAAC;MAC/B,OAAOA,WAAW;IAEpB,KAAKrB,eAAe;MAClB,MAAMuB,cAAc,GAAGL,KAAK,CAACM,MAAM,CAAC,CAACC,GAAG,EAAEC,CAAC,KAAKA,CAAC,KAAKP,MAAM,CAACG,OAAO,CAAC;MACrEV,kBAAkB,CAACW,cAAc,CAAC;MAClC,OAAOA,cAAc;IAEvB,KAAKtB,cAAc;MACjB,OAAOkB,MAAM,CAACG,OAAO,IAAI,EAAE;IAE7B;MACE,OAAOJ,KAAK;EAChB;AACF,CAAC;AAED,OAAO,MAAMS,WAAW,GAAIC,QAAQ,KAAM;EACxCR,IAAI,EAAErB,YAAY;EAClBuB,OAAO,EAAEM;AACX,CAAC,CAAC;AACF,OAAO,MAAMC,cAAc,GAAIC,KAAK,KAAM;EACxCV,IAAI,EAAEpB,eAAe;EACrBsB,OAAO,EAAEQ;AACX,CAAC,CAAC;AACF,OAAO,MAAMC,aAAa,GAAIlB,SAAS,KAAM;EAC3CO,IAAI,EAAEnB,cAAc;EACpBqB,OAAO,EAAET;AACX,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}